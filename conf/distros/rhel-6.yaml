---
# RedHat Enterprise Linux 6
distro_pattern: redhat-6\\.2
name: rhel-6
packager_name: devstack.packaging.yum:YumPackager
commands:
    apache:
        restart:
        - service
        - httpd
        - restart
        settings:
            # Ensure runs after wsgi.conf (naming wise)
            conf-link-target: /etc/httpd/conf.d/wsgi-horizon-000-default.conf
        start:
        - service
        - httpd
        - start
        status:
        - service
        - httpd
        - status
        stop:
        - service
        - httpd
        - stop
    mysql:
        # NOTE: we aren't stopping any sql injection...
        create_db:
        - mysql
        - --user=%USER%
        - --password=%PASSWORD%
        - -e
        - CREATE DATABASE %DB%;
        drop_db:
        - mysql
        - --user=%USER%
        - --password=%PASSWORD%
        - -e
        - DROP DATABASE IF EXISTS %DB%;
        grant_all:
        - mysql
        - --user=%USER%
        - --password=%PASSWORD%
        - -e
        - '"GRANT ALL PRIVILEGES ON *.* TO ''%USER%''@''%'' IDENTIFIED BY ''%PASSWORD%'';
            FLUSH PRIVILEGES;"'
        restart:
        - service
        - mysql
        - restart
        set_pwd:
        - mysql
        - --user=%USER%
        - --password=%OLD_PASSWORD%
        - -e
        - '"USE mysql; UPDATE user SET password=PASSWORD(''%NEW_PASSWORD%'') WHERE
            User=''%USER%''; FLUSH PRIVILEGES;"'
        start:
        - service
        - mysql
        - start
        status:
        - service
        - mysql
        - status
        stop:
        - service
        - mysql
        - stop
    pip: python-pip
components:
    db:
        install: devstack.distros.rhel6:DBInstaller
        packages:
        -   name: mysql
            removable: true
            version: 5.1*
        -   name: mysql-server
            removable: true
            version: 5.1*
        start: devstack.components.db:DBRuntime
        stop: devstack.components.db:DBRuntime
        uninstall: devstack.components.db:DBUninstaller
    general:
        packages:
        -   name: coreutils
            removable: false
            version: 8.4*
        -   name: curl
            removable: false
            version: 7.19.7*
        -   meta:
                epel: true
            name: euca2ools
            removable: false
            version: 1.3.1*
        -   name: gawk
            removable: false
            version: 3.1*
        -   name: git
            removable: false
            version: 1.7*
        -   name: iputils
            removable: false
            version: 20071127*
        -   name: libxml2-devel
            removable: false
            version: 2.7*
        -   name: libxslt-devel
            removable: false
            version: 1.1.26*
        -   name: lsof
            removable: false
            version: 4.82*
        -   name: mlocate
            removable: false
            version: 0.22*
        -   name: openssh-server
            removable: false
            version: 5.3*
        -   name: psmisc
            removable: false
            version: 22.6*
        -   meta:
                epel: true
            name: pylint
            removable: false
            version: 0.21*
        -   name: python
            removable: false
            version: 2.6*
        -   name: python-devel
            removable: false
            version: 2.6*
        -   meta:
                epel: true
            name: python-distutils-extra
            removable: false
            version: 2.29*
        -   meta:
                epel: true
            name: python-mox
            removable: false
            version: 0.5.3*
        -   meta:
                epel: true
            name: python-pep8
            removable: false
            version: 0.6*
        -   meta:
                epel: true
            name: python-pip
            removable: false
            version: 0.8*
        -   name: python-setuptools
            removable: false
            version: 0.6.10*
        -   meta:
                epel: true
            name: python-unittest2
            removable: false
            version: 0.5.1*
        -   meta:
                epel: true
            name: python-virtualenv
            removable: false
            version: 1.7*
        -   name: screen
            removable: false
            version: 4.0.3*
        -   name: sudo
            removable: false
            version: 1.7.4*
        -   name: tcpdump
            removable: false
            version: 4.0*
        -   name: unzip
            removable: false
            version: 6.0*
        -   name: wget
            removable: false
            version: 1.12*
    glance:
        packages:
        -   name: MySQL-python
            removable: true
            version: 1.2*
        -   meta:
                epel: true
            name: python-argparse
            removable: true
            version: 1.2*
        -   name: python-dateutil
            removable: true
            version: 1.4*
        -   meta:
                epel: true
            name: python-eventlet
            removable: true
            version: 0.9*
        -   meta:
                epel: true
            name: python-greenlet
            removable: true
            version: 0.3.1*
        -   meta:
                epel: true
            name: python-httplib2
            removable: true
            version: 0.4*
        -   meta:
                epel: true
            name: python-prettytable
            removable: true
            version: 0.5*
        -   meta:
                epel: true
            name: pyxattr
            removable: true
            version: 0.5*
    horizon:
        packages:
        -   name: httpd
            removable: true
            version: 2.2*
        -   name: mod_wsgi
            removable: true
            version: 3.2*
        -   name: python-dateutil
            removable: true
            version: 1.4*
        -   meta:
                epel: true
            name: python-eventlet
            removable: true
            version: 0.9*
        -   meta:
                epel: true
            name: python-kombu
            removable: true
            version: 1.1*
        -   meta:
                epel: true
            name: python-webob1.0
            removable: true
            version: 1.0*
    keystone:
        packages:
        -   name: MySQL-python
            removable: true
            version: 1.2*
        -   name: cyrus-sasl-lib
            removable: false
            version: 2.1*
        -   name: openldap
            removable: false
            version: 2.4*
        -   name: openldap-devel
            removable: true
            version: 2.4*
        -   meta:
                epel: true
            name: python-argparse
            removable: true
            version: 1.2*
        -   meta:
                epel: true
            name: python-eventlet
            removable: true
            version: 0.9*
        -   meta:
                epel: true
            name: python-greenlet
            removable: true
            version: 0.3.1*
        -   name: python-lxml
            removable: true
            version: 2.2*
        -   meta:
                epel: true
            name: python-passlib
            removable: true
            version: 1.5*
        -   meta:
                epel: true
            name: python-prettytable
            removable: true
            version: 0.5*
        -   meta:
                epel: true
            name: python-sqlite2
            removable: true
            version: 2.3*
        -   meta:
                epel: true
            name: python-webob1.0
            removable: true
            version: 1.0*
        -   name: sqlite
            removable: false
            version: 3.6*
    keystone-client:
        packages:
        -   meta:
                epel: true
            name: python-argparse
            removable: true
            version: 1.2*
        -   meta:
                epel: true
            name: python-prettytable
            removable: true
            version: 0.5*
    melange:
        packages: null
    n-api:
        packages:
        -   name: python-dateutil
            removable: false
            version: 1.4*
    n-cpu:
        packages:
        -   name: iscsi-initiator-utils
            removable: true
            version: 6.2*
        -   name: libguestfs
            removable: true
            version: 1.2.7*
        -   name: libguestfs-mount
            removable: true
            version: 1.7.17*
        -   name: libguestfs-tools
            removable: true
            version: 1.7.17*
        -   name: libvirt
            removable: true
            version: 0.9.4*
        -   name: libvirt-client
            removable: true
            version: 0.9.4*
        -   name: libvirt-python
            removable: true
            version: 0.9.4*
        -   name: lvm2
            removable: true
            version: 2.02*
        -   name: qemu-img
            removable: true
            version: 0.12*
        -   name: qemu-kvm
            removable: true
            version: 2*
    n-vnc:
        packages: null
    n-vol:
        packages:
        -   name: iscsi-initiator-utils
            removable: true
            version: 6.2*
        -   name: lvm2
            removable: true
            version: 2.02*
        -   name: scsi-target-utils
            removable: true
            version: 1.0*
    nova:
        packages:
        -   name: MySQL-python
            removable: true
            version: 1.2*
        -   name: dnsmasq
            removable: false
            version: 2.48*
        -   name: ebtables
            removable: false
            version: 2.0*
        -   name: iptables
            removable: false
            version: 1.4*
        -   name: iputils
            removable: false
            version: 20071127*
        -   name: kpartx
            removable: false
            version: 0.4*
        -   name: libxml2-python
            removable: false
            version: 2.7*
        -   name: parted
            removable: false
            version: 2.1*
        -   meta:
                epel: true
            name: python-boto
            removable: true
            version: 2.0*
        -   meta:
                epel: true
            name: python-carrot
            removable: true
            version: 0.10*
        -   name: python-cheetah
            removable: true
            version: 2.4*
        -   name: python-crypto
            removable: false
            version: 2.0*
        -   meta:
                epel: true
            name: python-eventlet
            removable: true
            version: 0.9*
        -   meta:
                epel: true
            name: python-feedparser
            removable: true
            version: 5.0*
        -   meta:
                epel: true
            name: python-gflags
            removable: true
            version: 1.4*
        -   meta:
                epel: true
            name: python-greenlet
            removable: true
            version: 0.3.1*
        -   meta:
                epel: true
            name: python-kombu
            removable: true
            version: 1.1*
        -   meta:
                epel: true
            name: python-lockfile
            removable: true
            version: 0.8*
        -   name: python-lxml
            removable: true
            version: 2.2*
        -   name: python-netaddr
            removable: true
            version: 0.7*
        -   name: python-suds
            removable: true
            version: 0.4*
        -   meta:
                epel: true
            name: pyxattr
            removable: true
            version: 0.5*
        -   meta:
                epel: true
            name: socat
            removable: true
            version: 1.7*
        -   name: sqlite
            removable: false
            version: 3.6*
    nova-client:
        packages:
        -   meta:
                epel: true
            name: python-argparse
            removable: true
            version: 1.2*
        -   meta:
                epel: true
            name: python-prettytable
            removable: true
            version: 0.5*
    quantum:
        packages:
        -   name: libxml2-python
            removable: false
            version: 2.7*
        -   meta:
                epel: true
            name: python-eventlet
            removable: true
            version: 0.9*
        -   meta:
                epel: true
            name: python-gflags
            removable: true
            version: 1.4*
        -   meta:
                epel: true
            name: python-greenlet
            removable: true
            version: 0.3.1*
    quantum-client:
        packages:
        -   meta:
                epel: true
            name: python-gflags
            removable: true
            version: 1.4*
    quantum-openvswitch:
        packages: null
    rabbitmq:
        packages:
        -   meta:
                epel: true
            name: rabbitmq-server
            pre-install:
            -   cmd:
                - service
                - qpidd
                - stop
                ignore_failure: true
                run_as_root: true
            -   cmd:
                - chkconfig
                - qpidd
                - 'off'
                ignore_failure: true
                run_as_root: true
            removable: true
            version: 2.6*
    swift:
        packages: null
...

